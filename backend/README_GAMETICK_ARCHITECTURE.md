# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ (GameTick)

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ GameTicker –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–∑–µ–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∏–≥—Ä—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –≠—Ç–æ foundation –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–≥—Ä–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

## –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. GameTicker - –û—Å–Ω–æ–≤–Ω–æ–π –¥–∏—Å–ø–µ—Ç—á–µ—Ä

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª—è–µ—Ç –∏–≥—Ä–æ–≤—ã–º —Ü–∏–∫–ª–æ–º —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —á–∞—Å—Ç–æ—Ç–æ–π (TPS - Ticks Per Second)

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚è±Ô∏è **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Ç–∏–∫–∞–º–∏
- üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞–∂–¥–æ–π —Å–∏—Å—Ç–µ–º—ã  
- ‚ö†Ô∏è **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üéõÔ∏è **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º**: –°—Ç–∞—Ä—Ç/—Å—Ç–æ–ø/–ø–∞—É–∑–∞/–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- üîÑ **Thread-safe**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –≥–æ—Ä—É—Ç–∏–Ω–∞—Ö

```go
// –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–∫–µ—Ä–∞ —Å —á–∞—Å—Ç–æ—Ç–æ–π 20 TPS
gameTicker := NewGameTicker(20, logger)

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–≥—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
gameTicker.RegisterSystem(movementSystem)
gameTicker.RegisterSystem(collisionSystem)

// –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
gameTicker.Start()
```

### 2. TickSystem Interface - –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º:**

```go
type TickSystem interface {
    Update(deltaTime time.Duration) error
    GetName() string
    GetPriority() int // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üß© **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
- üìã **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è**: –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ä—è–¥–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- üîç **–ò–∑–æ–ª—è—Ü–∏—è**: –ö–∞–∂–¥–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞
- üìà **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ü—Ä–æ—Å—Ç–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### 3. PerformanceMonitor - –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–π —Å–∏—Å—Ç–µ–º—ã:**

- üìä **–ú–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**:
  - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è  
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

- üîî **–£–º–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**:
  - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–æ–≤
  - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
  - –°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ –¥–ª—è —Ç–æ—á–Ω—ã—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–π

- üìà **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**:
  - –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –ø–æ –∫–∞–∂–¥–æ–π —Å–∏—Å—Ç–µ–º–µ
  - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
  - –ê–Ω–∞–ª–∏–∑ —É–∑–∫–∏—Ö –º–µ—Å—Ç

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —à–∞–≥

```
–í—Ä–µ–º—è —Ç–∏–∫–∞ = 1 —Å–µ–∫—É–Ω–¥–∞ / TPS
20 TPS = 50ms –Ω–∞ —Ç–∏–∫
60 TPS = 16.67ms –Ω–∞ —Ç–∏–∫
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚öñÔ∏è **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**: –û–¥–∏–Ω–∞–∫–æ–≤–æ–µ –≤—Ä–µ–º—è –Ω–∞ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- üéÆ **–ü–ª–∞–≤–Ω–æ—Å—Ç—å**: –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- üîÑ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –ü—Ä–æ—Å—Ç–∞—è —Å–µ—Ç–µ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

### 2. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º

```
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5:  PlayerMovementSystem    (–≤—ã—Å–æ–∫–∏–π)
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 10: CollisionSystem         (—Å—Ä–µ–¥–Ω–∏–π)  
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 20: FoodRespawnSystem       (–Ω–∏–∑–∫–∏–π)
–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 100: NetworkSyncSystem      (—Å–∞–º—ã–π –Ω–∏–∑–∫–∏–π)
```

**–õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
1. **–î–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤** ‚Üí –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º input
2. **–ö–æ–ª–ª–∏–∑–∏–∏** ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ø–æ—Å–ª–µ –¥–≤–∏–∂–µ–Ω–∏—è
3. **–†–µ—Å–ø–∞–≤–Ω —Ä–µ—Å—É—Ä—Å–æ–≤** ‚Üí –ø–æ–ø–æ–ª–Ω—è–µ–º –º–∏—Ä
4. **–°–µ—Ç–µ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

```go
defer func() {
    if r := recover(); r != nil {
        logger.Printf("–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê –≤ —Å–∏—Å—Ç–µ–º–µ %s: %v", systemName, r)
        perfMonitor.recordError(systemName)
    }
}()
```

**–ü—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏:**
- üõ°Ô∏è **–ò–∑–æ–ª—è—Ü–∏—è –æ—à–∏–±–æ–∫**: –ü–∞–¥–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–µ –ª–æ–º–∞–µ—Ç –≤–µ—Å—å —Ü–∏–∫–ª
- üìù **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º  
- üìä **–ú–µ—Ç—Ä–∏–∫–∏ –æ—à–∏–±–æ–∫**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã —Å–±–æ–µ–≤
- üîÑ **–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã**: –ò–≥—Ä–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏–≥—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

```go
type MyGameSystem struct {
    name     string
    priority int
    // –≤–∞—à–∏ –ø–æ–ª—è
}

func (mgs *MyGameSystem) Update(deltaTime time.Duration) error {
    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    return nil
}

func (mgs *MyGameSystem) GetName() string { return mgs.name }
func (mgs *MyGameSystem) GetPriority() int { return mgs.priority }
```

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –∏–≥—Ä–æ–≤–æ–º —Ü–∏–∫–ª–µ

```go
mySystem := &MyGameSystem{
    name:     "MyGameSystem",
    priority: 15, // –ú–µ–∂–¥—É –∫–æ–ª–ª–∏–∑–∏—è–º–∏ –∏ —Ä–µ—Å–ø–∞–≤–Ω–æ–º
}

gameTicker.RegisterSystem(mySystem)
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

```go
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: > 25% –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Ç–∏–∫–∞
–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ:   > 50% –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Ç–∏–∫–∞
–ú–∞–∫—Å–∏–º—É–º —Ç–∏–∫–∞: > 200% –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Ç–∏–∫–∞
```

### –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤

```
[–ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï] –°–∏—Å—Ç–µ–º–∞ CollisionSystem —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ: 4.572167ms
[–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï] –°–∏—Å—Ç–µ–º–∞ CollisionSystem —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ: 27.350417ms  
[–ö–†–ò–¢–ò–ß–ï–°–ö–û–ï] –¢–∏–∫ –ø—Ä–µ–≤—ã—Å–∏–ª –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è! 39.662166ms > 33.333332ms
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```
=== –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–ì–†–û–í–û–ì–û –¶–ò–ö–õ–ê ===
–¶–µ–ª–µ–≤–æ–π TPS: 60, –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π TPS: 59.47
–í—ã–ø–æ–ª–Ω–µ–Ω–æ —Ç–∏–∫–æ–≤: 898, –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: 15.1 —Å–µ–∫
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Ç–∏–∫–∞: 3.918679ms, –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ: 39.662166ms
–ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Ç–∏–∫–æ–≤: 1

=== –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ –°–ò–°–¢–ï–ú ===
–°–∏—Å—Ç–µ–º–∞ CollisionSystem: —Å—Ä–µ–¥–Ω–µ–µ 1.55806ms, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ 27.350417ms, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π 898, –æ—à–∏–±–æ–∫ 0
–°–∏—Å—Ç–µ–º–∞ FoodRespawnSystem: —Å—Ä–µ–¥–Ω–µ–µ 7.419¬µs, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ 501.084¬µs, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π 898, –æ—à–∏–±–æ–∫ 0
```

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –í—ã–±–æ—Ä —á–∞—Å—Ç–æ—Ç—ã TPS

| –¢–∏–ø –∏–≥—Ä—ã | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π TPS | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ |
|----------|-------------------|-------------|
| –°—Ç—Ä–∞—Ç–µ–≥–∏—è | 10-15 TPS | –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∏–≥—Ä–∞, —ç–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ |
| MMO | 20-30 TPS | –ë–∞–ª–∞–Ω—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏ |
| –®—É—Ç–µ—Ä | 60-128 TPS | –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –¥–∏–Ω–∞–º–∏—á–Ω–æ–≥–æ –≥–µ–π–º–ø–ª–µ—è |
| Agar.io-–ø–æ–¥–æ–±–Ω—ã–µ | 20-40 TPS | –ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥–∞ |

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º**:
   ```go
   gameTicker.PrintDetailedStats() // –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   ```

2. **–ê–Ω–∞–ª–∏–∑ —É–∑–∫–∏—Ö –º–µ—Å—Ç**:
   - –°–∏—Å—Ç–µ–º–∞ —Å —Å–∞–º—ã–º –≤—ã—Å–æ–∫–∏–º —Å—Ä–µ–¥–Ω–∏–º –≤—Ä–µ–º–µ–Ω–µ–º
   - –°–∏—Å—Ç–µ–º—ã —Å —á–∞—Å—Ç—ã–º–∏ –ø–∏–∫–∞–º–∏
   - –û–±—â–µ–µ –≤—Ä–µ–º—è —Ç–∏–∫–∞ vs —Ü–µ–ª–µ–≤–æ–µ –≤—Ä–µ–º—è

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º**:
   - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã - –≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
   - –≠—Å—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã - –Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
   - –°–µ—Ç–µ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è - –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ

### –û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—É–∑—ã**:
   ```go
   gameTicker.Pause()   // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
   // ... –∞–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   gameTicker.Resume()  // –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**:
   ```go
   stats := gameTicker.GetStats()
   actualTPS := stats["actual_tps"].(float64)
   if actualTPS < targetTPS*0.9 {
       // –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é!
   }
   ```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WebSocket

### –°–∏—Å—Ç–µ–º–∞ —Å–µ—Ç–µ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

```go
type NetworkSyncSystem struct {
    wsManager *WebSocketManager
    players   map[string]*Player
}

func (nss *NetworkSyncSystem) Update(deltaTime time.Duration) error {
    // –°–æ–±–∏—Ä–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
    gameState := nss.collectGameState()
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º
    nss.wsManager.BroadcastGameState(gameState)
    
    return nil
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º

```javascript
// –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ
websocket.onmessage = function(event) {
    const gameState = JSON.parse(event.data);
    updatePlayerPositions(gameState.players);
    updateFood(gameState.food);
};
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

GameTicker –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–¥–µ–∂–Ω—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è –∏–≥—Ä–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:

- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –î–µ—Ç–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å  
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º
- ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –ü–æ–ª–Ω–∞—è –≤–ª–∞—Å—Ç—å –Ω–∞–¥ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- ‚úÖ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∞–¥–∫–∏

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ —Å–ø–æ—Å–æ–±–Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å —Å–æ—Ç–Ω–∏ –∏–≥—Ä–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ. 