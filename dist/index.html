<!doctype html><html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>X-Cells Game</title><style>* {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            position: fixed;
            background-color: #000;
            font-family: Arial, sans-serif;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–∏–Ω–≥–∞ */
        #ping-display {
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-family: Arial, sans-serif;
            font-size: 14px;
        }
        
        #info-panel {
            position: absolute;
            top: 0px;
            left: 90px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 5px;
            max-width: 250px;
        }
        
        #network-sim-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 12px;
            z-index: 1000;
            min-width: 200px;
            max-width: 250px;
        }
        
        #network-sim-panel h3 {
            margin: 0 0 10px 0;
            color: #4CAF50;
        }
        
        .sim-controls {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .sim-button {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            transition: background-color 0.2s;
        }
        
        .sim-button.enable {
            background-color: #4CAF50;
            color: white;
        }
        
        .sim-button.enable:hover {
            background-color: #45a049;
        }
        
        .sim-button.disable {
            background-color: #f44336;
            color: white;
        }
        
        .sim-button.disable:hover {
            background-color: #da190b;
        }
        
        .sim-status {
            margin-top: 10px;
            padding: 8px;
            border-radius: 4px;
            font-size: 11px;
        }
        
        .sim-status.enabled {
            background-color: rgba(76, 175, 80, 0.2);
            border: 1px solid #4CAF50;
        }
        
        .sim-status.disabled {
            background-color: rgba(158, 158, 158, 0.2);
            border: 1px solid #9e9e9e;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –º–∏–≥–∞–Ω–∏—è –¥–ª—è –≤—ã—Å–æ–∫–æ–≥–æ –ø–∏–Ω–≥–∞ */
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }</style><script src="https://cdn.jsdelivr.net/npm/ammo.js@latest/builds/ammo.wasm.js"></script></head><body><div id="info-panel"><div id="ping-display">–ü–∏–Ω–≥: -- –º—Å</div><div id="jitter-display">–î–∂–∏—Ç—Ç–µ—Ä: -- –º—Å</div><div id="strategy-display">–°—Ç—Ä–∞—Ç–µ–≥–∏—è: --</div><div id="adaptation-display">–ê–¥–∞–ø—Ç–∞—Ü–∏—è: --</div><div id="server-time">–í—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞: --</div><div id="time-offset">–°–º–µ—â–µ–Ω–∏–µ: -- –º—Å</div><div id="server-delay-display">–ó–∞–¥–µ—Ä–∂–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: -- –º—Å</div></div><div id="network-sim-panel"><h3>üåê –ò–º–∏—Ç–∞—Ü–∏—è —Å–µ—Ç–∏</h3><div class="sim-controls"><button class="sim-button enable" onclick="enableNetworkSim('wifi_good')">WiFi –•–æ—Ä–æ—à–∏–π</button> <button class="sim-button enable" onclick="enableNetworkSim('wifi_poor')">WiFi –ü–ª–æ—Ö–æ–π</button> <button class="sim-button enable" onclick="enableNetworkSim('mobile_4g')">–ú–æ–±–∏–ª—å–Ω—ã–π 4G</button> <button class="sim-button enable" onclick="enableNetworkSim('mobile_3g')">–ú–æ–±–∏–ª—å–Ω—ã–π 3G</button> <button class="sim-button enable" onclick="enableNetworkSim('high_latency')">–í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞</button> <button class="sim-button enable" onclick="enableNetworkSim('unstable')">–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å–µ—Ç—å</button> <button class="sim-button disable" onclick="disableNetworkSim()">–û—Ç–∫–ª—é—á–∏—Ç—å</button></div><div id="sim-status" class="sim-status disabled">–°—Ç–∞—Ç—É—Å: –û—Ç–∫–ª—é—á–µ–Ω–æ</div></div><script>// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–º–∏—Ç–∞—Ü–∏–µ–π —Å–µ—Ç–∏
        async function enableNetworkSim(profile) {
            try {
                const response = await fetch(`/api/network-sim/enable?profile=${profile}`, {
                    method: 'POST'
                });
                const result = await response.json();
                console.log('Network simulation enabled:', result);
                updateSimStatus();
            } catch (error) {
                console.error('Error enabling network simulation:', error);
            }
        }

        async function disableNetworkSim() {
            try {
                const response = await fetch('/api/network-sim/disable', {
                    method: 'POST'
                });
                const result = await response.json();
                console.log('Network simulation disabled:', result);
                updateSimStatus();
            } catch (error) {
                console.error('Error disabling network simulation:', error);
            }
        }

        async function updateSimStatus() {
            try {
                const response = await fetch('/api/network-sim/status');
                const status = await response.json();
                
                const statusElement = document.getElementById('sim-status');
                if (status.status === 'enabled') {
                    statusElement.className = 'sim-status enabled';
                    
                    // –ü–∞—Ä—Å–∏–º –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏
                    const baseLatency = parseInt(status.baseLatency.replace(/[^\d]/g, ''));
                    const latencyVariance = parseInt(status.latencyVariance.replace(/[^\d]/g, ''));
                    const packetLoss = (status.packetLoss * 100).toFixed(1);
                    
                    statusElement.innerHTML = `
                        <strong>–°—Ç–∞—Ç—É—Å:</strong> ‚úÖ –í–∫–ª—é—á–µ–Ω–æ<br>
                        <strong>–ó–∞–¥–µ—Ä–∂–∫–∞:</strong> ${baseLatency}ms ¬±${latencyVariance}ms<br>
                        <strong>–ü–æ—Ç–µ—Ä–∏:</strong> ${packetLoss}%<br>
                        <small style="color: #90EE90;">–ò–º–∏—Ç–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞</small>
                    `;
                } else {
                    statusElement.className = 'sim-status disabled';
                    statusElement.innerHTML = `
                        <strong>–°—Ç–∞—Ç—É—Å:</strong> ‚ùå –û—Ç–∫–ª—é—á–µ–Ω–æ<br>
                        <small style="color: #D3D3D3;">–†–µ–∞–ª—å–Ω–∞—è —Å–µ—Ç—å</small>
                    `;
                }
            } catch (error) {
                console.error('Error updating sim status:', error);
                const statusElement = document.getElementById('sim-status');
                statusElement.className = 'sim-status disabled';
                statusElement.innerHTML = `
                    <strong>–°—Ç–∞—Ç—É—Å:</strong> ‚ö†Ô∏è –û—à–∏–±–∫–∞<br>
                    <small style="color: #FFB6C1;">–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å</small>
                `;
            }
        }

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', updateSimStatus);
        
        // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
        setInterval(updateSimStatus, 5000);</script><script defer="defer" src="bundle.c8895d9de70ff3625408.js"></script><script defer="defer" src="bundle.bf349f10b586c93c91ea.js"></script></body></html>